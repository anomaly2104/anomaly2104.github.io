---           
layout: post
title: Attaching button press effect for Tap gesture on UIView in iOS 7
date: 2013-10-10 14:49:04 UTC
updated: 2013-10-10 14:49:04 UTC
comments: true
categories:
author: Udit Agarwal
---

<div dir="ltr" style="text-align: left;" trbidi="on"><div class="p1"><span class="s1">In this post, we will define how to put press effect on tap gesture on UIView.</span></div><div class="p1"><span class="s1"><br /></span></div><div class="p1"><span class="s1">Steps:</span></div><div class="p1"><span class="s1">1. First of all choose the view on which you want to put button press effect.</span></div><div class="p1"><span class="s1">Ex: Lets say we have a view with name&nbsp;</span>tappedView</div><div class="p1"><span class="s1"><br /></span></div><div class="p1"><span class="s1">2. Change background color of the view before doing the effect of tap.</span></div><div class="p1"><span class="s1"><br /></span></div><div class="p1"><span class="s1">&nbsp; &nbsp;&nbsp;</span><span class="s1">tappedView.</span>backgroundColor<span class="s1"> = [</span><span class="s4">UIColor</span><span class="s1"> </span><span class="s5">lightGrayColor</span><span class="s1">];</span></div><div class="p2"><br /></div><div class="p2">3. Then queue the reverse of step 2 to happen in future and after that perform what you wanted to do on tap.</div><div class="p3"><span class="s1">&nbsp; &nbsp; </span><span class="s6">dispatch_time_t</span><span class="s1"> popTime = </span><span class="s5">dispatch_time</span><span class="s1">(</span>DISPATCH_TIME_NOW<span class="s1">, </span><span class="s7">.05</span><span class="s1"> * </span>NSEC_PER_SEC<span class="s1">);</span></div><div class="p3"><span class="s1">&nbsp; &nbsp; </span><span class="s5">dispatch_after</span><span class="s1">(popTime, </span>dispatch_get_main_queue<span class="s1">(), ^(</span><span class="s2">void</span><span class="s1">){</span></div><div class="p4">&nbsp; &nbsp; &nbsp; &nbsp;&nbsp;tappedView.<span class="s6">backgroundColor</span> = [<span class="s4">UIColor</span> <span class="s5">whiteColor</span>];</div><div class="p2">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</div><div class="p4">&nbsp; &nbsp; &nbsp; &nbsp; <span class="s4">UIStoryboard</span> *storyboard = [<span class="s4">UIStoryboard</span> <span class="s5">storyboardWithName</span>:<span class="s8">@"MainStoryboard"</span> <span class="s5">bundle</span>:<span class="s2">nil</span>];</div><div class="p4">&nbsp; &nbsp; &nbsp; &nbsp; <span class="s9">UIViewController</span> *nextViewController = [storyboard <span class="s5">instantiateViewControllerWithIdentifier</span>:<span class="s8">@"viewControllerIdentifier"</span>];</div><div class="p2">&nbsp;&nbsp; &nbsp; &nbsp; &nbsp;</div><div class="p5"><span class="s1">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="s4">UIView</span><span class="s1">&nbsp; </span>beginAnimations<span class="s1">:</span><span class="s2">nil</span><span class="s1"> </span>context<span class="s1">:</span><span class="s2">NULL</span><span class="s1">];</span></div><div class="p5"><span class="s1">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="s4">UIView</span><span class="s1"> </span>setAnimationCurve<span class="s1">:</span>UIViewAnimationCurveEaseInOut<span class="s1">];</span></div><div class="p5"><span class="s1">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="s4">UIView</span><span class="s1"> </span>setAnimationDuration<span class="s1">:</span><span class="s7">0.75</span><span class="s1">];</span></div><div class="p4">&nbsp; &nbsp; &nbsp; &nbsp; [<span class="s2">self</span>.<span class="s6">navigationController</span> <span class="s5">pushViewController</span>:nextViewController <span class="s5">animated</span>:<span class="s2">NO</span>];</div><div class="p5"><span class="s1">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="s4">UIView</span><span class="s1"> </span>setAnimationTransition<span class="s1">:</span>UIViewAnimationTransitionFlipFromRight<span class="s1"> </span>forView<span class="s1">:</span><span class="s2">self</span><span class="s1">.</span><span class="s6">navigationController</span><span class="s1">.</span><span class="s6">view</span><span class="s1"> </span>cache<span class="s1">:</span><span class="s2">NO</span><span class="s1">];</span></div><div class="p5"><span class="s1">&nbsp; &nbsp; &nbsp; &nbsp; [</span><span class="s4">UIView</span><span class="s1"> </span>commitAnimations<span class="s1">];</span></div><br /><div class="p4">&nbsp; &nbsp;&nbsp;});</div></div>